=============================
 reStructuredText Directives
=============================
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Revision: $Revision: 1.8 $
:Date: $Date: 2002/02/20 04:26:41 $

This document describes the directives implemented in the reference
reStructuredText parser.


-------------
 Admonitions
-------------

DTD elements: attention, caution, danger, error, hint, important,
note, tip, warning.

Directive block: directive data and all following indented text.

Admonitions are specially marked 'topics' that can appear anywhere an
ordinary body element can.  They contain arbitrary body elements.
Typically, an admonition is rendered as an offset block in a document,
sometimes outlined or shaded, with a title matching the admonition
type.  For example::

    .. DANGER::
       Beware killer rabbits!

This directive might be rendered something like this::

    +------------------------+
    |        !DANGER!        |
    |                        |
    | Beware killer rabbits! |
    +------------------------+

The following admonition directives have been implemented:

- attention
- caution
- danger
- error
- hint
- important
- note
- tip
- warning

Any text immediately following the directive indicator (on the same
line and/or indented on following lines) is interpreted as a directive
block and is parsed for normal body elements.  For example, the
following 'note' admonition directive contains one paragraph and a
bullet list consisting of two list items::

    .. note:: This is a note admonition.
       This is the second line of the first paragraph.

       - The note contains all indented body elements
         following.
       - It includes this bullet list.


------------------
 Image Directives
------------------

There are two image directives: 'image' and 'figure'.


Image
=====

DTD element: image.

Directive block: directive data and following indented lines (up to
the first blank line).

An 'image' is a simple picture::

    .. image:: picture.png

The URI for the image source file is specified in the directive data.
As with hyperlink targets, the image URI may begin on the same line as
the explicit markup start and target name, or it may begin in an
indented text block immediately following, with no intervening blank
lines.  If there are multiple lines in the link block, they are
stripped of leading and trailing whitespace and joined together.

Optionally, the image link block may end with one or more lines in
square brackets, the _`image attribute specifications`.  These two
image directives are equivalent::

    .. image:: picture.png
       [height=100 width=200 scale=50 alt="alternate text"]

    .. image:: picture.png
       [height=100]
       [width=200 scale=50]
       [alt="alternate text"]

The attribute specifications must begin on new lines and those lines
may not contain any other text except whitespace.  None, some, or all
of the 'alt', 'height', 'width', and 'scale' attributes may be
present.  The 'alt' attribute contains text and must be enclosed with
quotation marks (either " or ').  The other attributes are all simple
integers (no quotes); 'height' and 'width' values are in pixels, and
'scale' is a percentage.


Figure
======

DTD elements: figure, image, caption, legend.

Directive block: directive data and all following indented text.

A 'figure' consists of image_ data (optionally including `image attribute
specifications`_), an optional caption (a single paragraph), and an
optional legend (arbitrary body elements)::

    .. figure:: picture.png
       [scale=50 alt="map to buried treasure"]

       This is the caption of the figure (a simple paragraph).

       The legend consists of all elements after the caption.  In this
       case, the legend consists of this paragraph and the following
       table:

       +-----------------------+-----------------------+
       | Symbol                | Meaning               |
       +=======================+=======================+
       | .. image:: tent.png   | Campground            |
       +-----------------------+-----------------------+
       | .. image:: waves.png  | Lake                  |
       +-----------------------+-----------------------+
       | .. image:: peak.png   | Mountain              |
       +-----------------------+-----------------------+

There must be a blank line before the caption paragraph and before the
legend.  To specify a legend without a caption, use an empty comment
('..') in place of the caption.


--------------------------
 HTML-Specific Directives
--------------------------

Meta
====

Non-standard element: meta.

Directive block: directive data and following indented lines (up to
the first blank line).

The 'meta' directive is used to specify HTML metadata stored in HTML
META tags.  "Metadata" is data about data, in this case data about web
pages.  Metadata is used to describe and classify web pages in the
World Wide Web, in a form that is easy for search engines to extract
and collate.

Within the directive block, a flat field list provides the syntax for
metadata.  The field name becomes the contents of the "name" attribute
of the META tag, and the field body (interpreted as a single string
without inline markup) becomes the contents of the "content"
attribute.  For example::

    .. meta::
       :description: The reStructuredText plaintext markup language
       :keywords: plaintext, markup language

This would be converted to the following HTML::

    <meta name="description"
        content="The reStructuredText plaintext markup language">
    <meta name="keywords" content="plaintext, markup language">

Support for other META attributes ("http-equiv", "scheme", "lang",
"dir") are provided through field arguments, which must be of the form
"attr=value"::

    .. meta::
       :description lang=en: An amusing story
       :description lang=fr: Un histoire amusant

And their HTML equivalents::

    <meta name="description" lang="en" content="An amusing story">
    <meta name="description" lang="fr" content="Un histoire amusant">

Some META tags use an "http-equiv" attribute instead of the "name"
attribute.  To specify "http-equiv" META tags, simply omit the name::

    .. meta::
       :http-equiv=Content-Type: text/html; charset=ISO-8859-1

HTML equivalent::

    <meta http-equiv="Content-Type"
         content="text/html; charset=ISO-8859-1">


Imagemap
========

Non-standard element: imagemap.


--------------------------
 Miscellaneous Directives
--------------------------

Test Directive
==============

DTD element: system_warning.

'Restructuredtext-test-directive' is provided for test purposes
(nobody is expected to type in a name *that* long!).


..
   Local Variables:
   mode: indented-text
   indent-tabs-mode: nil
   sentence-end-double-space: t
   fill-column: 70
   End:
